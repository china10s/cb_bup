# 2026-02-12

## 安装Chromium和配置playwright

### 背景
tech要求安装Chromium，修改playwright适配，用于操作网页。

### 安装过程

1. **系统信息**
   - OS: OpenCloudOS 9.4
   - Node.js: v22.22.0
   - Playwright: v1.58.0

2. **安装flatpak和chromium**
   ```bash
   dnf install -y flatpak
   flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
   flatpak install -y flathub org.chromium.Chromium
   ```
   - Chromium版本: 144.0.7559.132
   - 路径: /var/lib/flatpak/app/org.chromium.Chromium/...

3. **安装playwright自带的Chromium**
   ```bash
   playwright install chromium
   ```
   - Chromium版本: 145.0.7632.6
   - 路径: /root/.cache/ms-playwright/chromium-1208/chrome-linux64/chrome

4. **安装agent-browser的系统依赖**
   ```bash
   agent-browser install --with-deps
   ```

### 测试结果

agent-browser测试成功:
```bash
agent-browser open https://www.example.com
# 输出: Example Domain https://www.example.com/

agent-browser snapshot -i
# 输出: - link "Learn more" [ref=e1]
```

### 配置说明

agent-browser会自动找到playwright安装的chromium，无需额外配置路径。
