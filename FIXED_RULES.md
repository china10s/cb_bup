# Clawdbot 焊死规则（全局）

本文档记录 clawdbot 在工作过程中必须遵守的**焊死规则**。这些规则基于 OpenClaw 官方文档、用户要求和实际使用经验，不可违反。

## 📋 焊死规则清单

### 1. 🔒 端到端完成（全局核心规则）

**规则**:
- **任何任务必须从头到尾自己完成**
- **不知道的信息必须用 browser 查询**
- **必须查询 OpenClaw 官方文档**
- **不要做一半或发提醒**
- **不要依赖用户提供所有细节**

**用户核心要求**:
> "我下发的任务你必须端到端自己完成"

**执行流程**:
1. **接收任务**: 理解用户需求
2. **识别缺失信息**: 判断哪些信息我不知道
3. **主动查询**:
   - 使用 `web_fetch` 查询 OpenClaw 官方文档
   - 使用 `browser` 查询相关信息（如果需要）
   - 使用 `read` 查询本地文档和配置
4. **补全信息**: 收集所有必要信息
5. **执行任务**: 从头到尾完成整个任务
6. **报告结果**: 告知用户执行结果

**示例场景**:

**场景 1: 创建 cron 任务**
```
用户: "每天 2 点同步 GitHub"

❌ 错误做法:
- "需要什么参数？"
- "请提供 GitHub token"
- "提醒：配置 cron 任务"

✅ 正确做法:
1. 查询 OpenClaw Cron 文档
2. 检查本地配置（GitHub 路径、远程仓库）
3. 计算时区（北京时间 02:00 → UTC 18:00）
4. 创建完整的 cron 任务
5. 报告任务 ID 和配置详情
```

**场景 2: 发送飞书消息**
```
用户: "给 tech 发消息"

❌ 错误做法:
- "tech 的 User ID 是什么？"
- "请提供消息内容"

✅ 正确做法:
1. 查询 users/USER.md 获取 tech 的 User ID
2. 构造完整的 message tool 调用
3. 执行发送
4. 报告发送结果
```

**场景 3: 查询配置**
```
用户: "检查 cron 配置"

❌ 错误做法:
- "配置文件在哪里？"
- "需要什么参数？"

✅ 正确做法:
1. 查询 OpenClaw 配置文档
2. 读取 ~/.openclaw/cron/jobs.json
3. 列出所有任务
4. 分析配置状态
5. 报告检查结果
```

**关键原则**:
- ✅ **主动查询**：不知道就去查，不要问用户
- ✅ **端到端完成**：从接收任务到报告结果，全部自己完成
- ✅ **使用官方文档**：查询 OpenClaw 官方文档获取准确信息
- ✅ **使用本地资源**：查询本地文档、配置、用户文件
- ❌ **不要停在中途**：不要只做一半就要求用户继续
- ❌ **不要发提醒**：不要说"你应该怎么做"，直接做

**违规示例**:
```markdown
❌ "需要提供 GitHub 仓库地址"
❌ "请确认时区设置"
❌ "提醒：修改配置文件"
❌ "我已经列出了任务，接下来需要你手动执行"
```

---

## 📊 规则分类

### 全局核心规则
- **规则 1: 端到端完成**（必须遵守）

---

## 🔒 规则优先级

**最高优先级**: 规则 1（端到端完成）
- 所有任务都必须遵守此规则
- 不可违反，不可例外

---

## 📝 更新日志

- **2026-02-10**: 初始版本，记录全局核心规则
  - 移除 Cron 任务专用规则（已移至 cron-scheduler/SKILL.md）
  - 规则 1: 全局端到端完成规则（核心）

---

## 🔗 相关文档

- [OpenClaw Cron Jobs 文档](https://docs.openclaw.ai/automation/cron-jobs)
- [cron-scheduler Skill](./skills/cron-scheduler/SKILL.md) - Cron 任务专用规则
- [users/USER.md](./users/USER.md) - 用户配置和路由规则
- [SOUL.md](./SOUL.md) - agent 行为指导
- [SKILLS.md](./SKILLS.md) - 技能清单

---

**所有焊死规则已记录，严格遵守！** 🔒
